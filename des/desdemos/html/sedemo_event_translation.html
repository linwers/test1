
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
      --><title>Translating Events to Functions Calls</title><meta name="generator" content="MATLAB 7.10"><meta name="date" content="2010-01-05"><meta name="m-file" content="sedemo_event_translation"><link rel="stylesheet" type="text/css" href="../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sedemo_event_translation.mdl</div><div class="right"><a href="matlab:sedemo_event_translation">Open this model</a></div></div><div class="content"><h1>Translating Events to Functions Calls</h1><!--introduction--><p>This demo illustrates how to generate a function call when an event takes place. This event can be a signal based event, a function call input or an entity departure event. You can use the generated function call to trigger function-call subsystems, Stateflow&reg; blocks or other blocks that accept function call inputs. The following sections demonstrate these features.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Triggering a Function Call Subsystem by an Entity-Departure Event to Function-Call Event Block</a></li><li><a href="#2">Calling a Stateflow Chart by Signal-Based Event to Function-Call Event</a></li><li><a href="#4">Delaying a Function-Call generated by Signal-Based Event to Function-Call Event Block</a></li></ul></div><h2>Triggering a Function Call Subsystem by an Entity-Departure Event to Function-Call Event Block<a name="1"></a></h2><p>This model demonstrates how an entity departure event can cause a function call to trigger a function-call subsystem. Entities advance to the Entity-Departure Event to Function-Call Event block after service completion from the Single Server block which generates a function call. The function call causes the FcnCallSubSystem block to execute. Inside the FcnCallSubSystem block is an Embedded MATLAB&#8482; Function block that increments a counter for every execution of the subsystem. <a href="matlab:open_system('sedemo_event_translation.mdl')">Open this model</a></p><img vspace="5" hspace="5" src="sedemo_event_translation_01.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_translation_02.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_translation_03.png" alt=""> <h2>Calling a Stateflow Chart by Signal-Based Event to Function-Call Event<a name="2"></a></h2><p>This model illustrates how a signal-based event can cause a function call. In this model the function call causes the execution of a Stateflow chart. The #n output from the FIFO Queue block indicates the number of entities in the queue. The Signal-Based Event to Function-Call Event block translates a change in the signal to a function call that calls the Stateflow chart. The state of the Stateflow chart is Up if number of entities in the FIFO queue exceeds 4 and Down if the number of entities in the FIFO queue is less than or equal to 4. <a href="matlab:open_system('sedemo_event_translation_stateflow.mdl')">Open this model</a></p><img vspace="5" hspace="5" src="sedemo_event_translation_04.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_translation_05.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_translation_06.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_translation_07.png" alt=""> <h2>Delaying a Function-Call generated by Signal-Based Event to Function-Call Event Block<a name="4"></a></h2><p>This model illustrates how to delay a function call generated by a Signal-Based Event to a Function-Call Event block. After the function call is generated, the Release Gate block opens the gate and allows arrival of the pending entity. The scopes illustrate the delay between the signal based event and the function call.The delay can be specified via a parameter or an input signal. Specifying the delay via an input signal allows you to dynamically change the delay value during simulation. Please see the <a href="sedemo_async_clocks.html">Asynchronous Clock Domains</a> demo for an advanced application of this feature. <a href="matlab:open_system('sedemo_event_translation_delay.mdl')">Open this model</a></p><img vspace="5" hspace="5" src="sedemo_event_translation_08.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_translation_09.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_translation_10.png" alt=""> <p class="footer">Copyright 2008 The MathWorks, Inc.<br>
          Published with MATLAB&reg; 7.10</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!--
##### SOURCE BEGIN #####
%% Translating Events to Functions Calls
% Copyright 2008 The MathWorks, Inc.
% This demo illustrates how to generate a function call when an event takes
% place. This event can be a signal based event, a function call input or
% an entity departure event. You can use the generated function call to
% trigger function-call subsystems, Stateflow(R) blocks or other blocks
% that accept function call inputs. The following sections demonstrate
% these features.
%
%% Triggering a Function Call Subsystem by an Entity-Departure Event to Function-Call Event Block
% This model demonstrates how an entity departure event can cause a 
% function call to trigger a function-call subsystem. Entities advance to
% the Entity-Departure Event to Function-Call Event block after service
% completion from the Single Server block which generates a function call.
% The function call causes the FcnCallSubSystem block to execute. Inside
% the FcnCallSubSystem block is an Embedded MATLAB(TM) Function block that
% increments a counter for every execution of the subsystem.
% <matlab:open_system('sedemo_event_translation.mdl') Open this model>
modelname1 = 'sedemo_event_translation';
open_system(modelname1);
set_param([modelname1 '/numDepartedEntities'],'Title', 'Number of departed entities');
set_param([modelname1 '/Counter Result'],'Title', 'Counter Result');
sim(modelname1);

%% Calling a Stateflow Chart by Signal-Based Event to Function-Call Event
% This model illustrates how a signal-based event can cause a function
% call. In this model the function call causes the execution of a Stateflow
% chart. The #n output from the FIFO Queue block indicates the number of
% entities in the queue. The Signal-Based Event to Function-Call Event
% block translates a change in the signal to a function call that calls the
% Stateflow chart. The state of the Stateflow chart is Up if number of
% entities in the FIFO queue exceeds 4 and Down if the number of entities
% in the FIFO queue is less than or equal to 4.
% <matlab:open_system('sedemo_event_translation_stateflow.mdl') Open this model>

modelname2 = 'sedemo_event_translation_stateflow';
open_system(modelname2);
set_param([modelname2 '/ServerMode'],'Title', 'Server Mode');
set_param([modelname2 '/numEntitiesinQ'],'Title', 'Number of Entities in FIFO Queue');
%%
sim(modelname2);


%% Delaying a Function-Call generated by Signal-Based Event to Function-Call Event Block
% This model illustrates how to delay a function call generated by a
% Signal-Based Event to a Function-Call Event block. After the function
% call is generated, the Release Gate block opens the gate and allows
% arrival of the pending entity. The scopes illustrate the delay between
% the signal based event and the function call.The delay can be specified
% via a parameter or an input signal. Specifying the delay via an input
% signal allows you to dynamically change the delay value during
% simulation. Please see the <sedemo_async_clocks.html Asynchronous Clock
% Domains> demo for an advanced application of this feature.
% <matlab:open_system('sedemo_event_translation_delay.mdl') Open this model>

modelname3 = 'sedemo_event_translation_delay';
open_system(modelname3);
set_param([modelname3 '/numEntitiesDeparted'],'Title','# of entities departed from Time-Based Generator');
set_param([modelname3 '/numEntitiesDepartedFromGate'],'Title', 'Number of Entities Released from Gate')
sim(modelname3);

%%
bdclose(modelname1);
bdclose(modelname2);
bdclose(modelname3);

clear modelname1 modelname2 modelname3;

displayEndOfDemoMessage(mfilename)

##### SOURCE END #####
--></body></html>