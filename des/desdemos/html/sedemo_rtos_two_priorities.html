
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
      --><title>Task Sharing with Two Levels of Priority and Preemption</title><meta name="generator" content="MATLAB 7.10"><meta name="date" content="2010-01-05"><meta name="m-file" content="sedemo_rtos_two_priorities"><link rel="stylesheet" type="text/css" href="../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sedemo_rtos_two_priorities.mdl</div><div class="right"><a href="matlab:sedemo_rtos_two_priorities">Open this model</a></div></div><div class="content"><h1>Task Sharing with Two Levels of Priority and Preemption</h1><!--introduction--><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Description</a></li><li><a href="#2">Results and Displays</a></li><li><a href="#7">Related Demos</a></li></ul></div><h2>Description<a name="1"></a></h2><p>This model demonstrates the scheduling and execution of tasks with different priorities.</p><p>Task tokens with two priority levels are generated by the two token generators. Each token has attributes representing the priority and the task execution time. The tokens are sorted according to ascending priority in the Priority-Based Task Queue just before the CPU. The tokens are then passed to the CPU for task execution.</p><img vspace="5" hspace="5" src="sedemo_rtos_two_priorities_01.png" alt=""> <h2>Results and Displays<a name="2"></a></h2><p>The simulation results can be seen on the following scopes:</p><div><ul><li> Priority value for tasks being served in the CPU</li></ul></div><img vspace="5" hspace="5" src="sedemo_rtos_two_priorities_02.png" alt=""> <div><ul><li> Queue length of the Priority-Based Task Queue</li></ul></div><img vspace="5" hspace="5" src="sedemo_rtos_two_priorities_03.png" alt=""> <div><ul><li> Queuing delay for low-priority tasks completed</li></ul></div><img vspace="5" hspace="5" src="sedemo_rtos_two_priorities_04.png" alt=""> <div><ul><li> Queuing delay for high-priority tasks completed</li></ul></div><img vspace="5" hspace="5" src="sedemo_rtos_two_priorities_05.png" alt=""> <p>The plot with priority value for the current task indicates when a low-priority task was preempted by a high-priority task. The queue length plot displays the number of tasks queued to be processed. The queuing delay plots indicate that the high-priority task tokens do not experience any queuing delay. The low-priority task tokens experience queuing delays because of the preemption behavior.</p><h2>Related Demos<a name="7"></a></h2><div><ul><li><a href="matlab:showdemo('sedemo_rtos_dependent_tasks');">Multitasking with Dependent Tasks</a></li><li><a href="matlab:showdemo('sedemo_rtos_application');">Operating System with Prioritized Task Execution</a></li></ul></div><p class="footer">Copyright 2008 The MathWorks, Inc.<br>
          Published with MATLAB&reg; 7.10</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!--
##### SOURCE BEGIN #####
%% Task Sharing with Two Levels of Priority and Preemption

% Copyright 2008 The MathWorks, Inc.
% $Revision: 1.1.6.1 $ $Date: 2009/08/11 15:39:25 $

%% Description
% This model demonstrates the scheduling and execution of tasks with
% different priorities.
%
% Task tokens with two priority levels are generated by the two token
% generators. Each token has attributes representing the priority and the
% task execution time. The tokens are sorted according to ascending
% priority in the Priority-Based Task Queue just before the CPU. The tokens
% are then passed to the CPU for task execution.

modelname = 'sedemo_rtos_two_priorities';
open_system(modelname);
set_param([modelname '/Task Queue Length'],'OpenScopeAtSimStart', 'off' );
set_param([modelname '/Queuing Time Plots/Queuing Delay for High Priority Tasks'],'OpenScopeAtSimStart', 'off' );
set_param([modelname '/Queuing Time Plots/Queuing Delay for Low Priority Tasks'],'OpenScopeAtSimStart', 'off' );

%% Results and Displays
% The simulation results can be seen on the following scopes:
%
% *  Priority value for tasks being served in the CPU

sim(modelname);

%%
%
% *  Queue length of the Priority-Based Task Queue
%

des_scope_support('desScopeCloseFig',[modelname '/Priority Scope']);
set_param([modelname '/Priority Scope'],'OpenScopeAtSimStart', 'off' );
set_param([modelname '/Task Queue Length'],'OpenScopeAtSimStart', 'on' );
sim(modelname);

%%
%
% *  Queuing delay for low-priority tasks completed
%
des_scope_support('desScopeCloseFig',[modelname '/Task Queue Length']);
set_param([modelname '/Task Queue Length'],'OpenScopeAtSimStart', 'off' );
set_param([modelname '/Queuing Time Plots/Queuing Delay for Low Priority Tasks'],'OpenScopeAtSimStart', 'on' );
sim(modelname);

%%
% *  Queuing delay for high-priority tasks completed
%
des_scope_support('desScopeCloseFig',[modelname '/Queuing Time Plots/Queuing Delay for Low Priority Tasks']);
set_param([modelname '/Queuing Time Plots/Queuing Delay for Low Priority Tasks'],'OpenScopeAtSimStart', 'off' );
set_param([modelname '/Queuing Time Plots/Queuing Delay for High Priority Tasks'],'OpenScopeAtSimStart', 'on' );
sim(modelname);

%%
% The plot with priority value for the current task indicates when a
% low-priority task was preempted by a high-priority task. The queue length
% plot displays the number of tasks queued to be processed. The queuing
% delay plots indicate that the high-priority task tokens do not experience
% any queuing delay. The low-priority task tokens experience queuing delays
% because of the preemption behavior.

%% Related Demos
% * <matlab:showdemo('sedemo_rtos_dependent_tasks'); Multitasking with Dependent Tasks>
% * <matlab:showdemo('sedemo_rtos_application'); Operating System with Prioritized Task Execution>


%% 
%cleanup
bdclose(modelname);
clear modelname;
displayEndOfDemoMessage(mfilename)

##### SOURCE END #####
--></body></html>