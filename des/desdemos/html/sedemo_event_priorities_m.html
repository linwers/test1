
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
      --><title>Event Priorities</title><meta name="generator" content="MATLAB 7.10"><meta name="date" content="2010-01-05"><meta name="m-file" content="sedemo_event_priorities_m"><link rel="stylesheet" type="text/css" href="../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit sedemo_event_priorities_m">Open sedemo_event_priorities_m.m in the Editor</a></div><div class="right"><a href="matlab:echodemo sedemo_event_priorities_m">Run in the Command Window</a></div></div><div class="content"><h1>Event Priorities</h1><!--introduction--><p>This tutorial demo introduces Entities, Events and Event Priorities, which are the important concepts in SimEvents&reg;. Events and Entities have a cause and effect relationship, where events generally cause actions to be taken on entities. Event Priorities are associated with events and are used to determine the sequence of execution if multiple events happen at the same time.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">D/D/1: Simplest Queuing Model</a></li><li><a href="#2">Executing Entity Generation Event After Service Completion Event</a></li><li><a href="#3">Executing Entity Generation Event Before Service Completion Event</a></li><li><a href="#4">Handling Events With Same Event Priority</a></li></ul></div><h2>D/D/1: Simplest Queuing Model<a name="1"></a></h2><p>Consider a D/D/1 queuing model, where generation (or arrival) rate is deterministic and service rate is also deterministic.</p><p>In this model, Time-Based Entity Generator generates entities with intergeneration time of 1 second and Single Server delays each entity with service time of 1 second. Entity generation and service completion are the two types of events in this system.</p><p>Time-Based Entity Generator schedules the entity generation event in the Event Calendar for time t+1, where t is the current time. The processing of this event results in entities being generated by the Time-Based Entity Generator, which illustrates the cause and effect relationship between events and entities.</p><p>When an entity enters the Single Server at time T, it schedules service completion event in the Event Calendar for time T+1. The processing of this event results in the entity departing from Single Server.</p><pre class="codeinput">open_system(<span class="string">'sedemo_event_priorities'</span>);
</pre><img vspace="5" hspace="5" src="sedemo_event_priorities_m_01.png" alt=""> <h2>Executing Entity Generation Event After Service Completion Event<a name="2"></a></h2><p>Since intergeneration time for Time-Based Entity Generator and service time for Single Server are the same, entity generation event and service completion event are scheduled for the same simulation time. SimEvents uses event priority to determine which of these events to process first.</p><p>In this model, the entity generation event has a lower event priority than the service completion event, so the service completion event is processed before the entity generation event when they occur at the same time. Thus departure from Single Server occurs before generation from Time-Based Entity Generator. To observe this note that the Queue length is always zero.</p><p>When an entity is generated, the Single Server is available to accept the entity since service completion event was already processed.</p><pre class="codeinput">set_param(<span class="string">'sedemo_event_priorities/Time-Based Entity Generator'</span>, <span class="string">'PriorityEntityGeneration'</span>, <span class="string">'2'</span>);
set_param(<span class="string">'sedemo_event_priorities/Single Server'</span>, <span class="string">'PriorityServiceCompletion'</span>, <span class="string">'1'</span>);
sim(<span class="string">'sedemo_event_priorities'</span>);
</pre><img vspace="5" hspace="5" src="sedemo_event_priorities_m_02.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_priorities_m_03.png" alt=""> <h2>Executing Entity Generation Event Before Service Completion Event<a name="3"></a></h2><p>If the Event Priorities are reversed, then  entity generation event is processed before Service Completion Event when they occur at the same time.</p><p>In this case, generation from Time-Based Entity Generator occurs before departure from Single Server. Again this can be observed by noting the Queue length. Because the entity generation event was processed before the service completion event, the Single Server isn't available as soon as an entity is generated.</p><p>Notice that in "Queue Length" plot, the number of entities increases by one when entity arrives in the FIFO Queue block. At the same instant but after the generation event, Single Server finishes processing its entity and can accept a new entity. Thus, the number of entities in FIFO Queue block becomes zero instantaneously.</p><pre class="codeinput">set_param(<span class="string">'sedemo_event_priorities/Time-Based Entity Generator'</span>, <span class="string">'PriorityEntityGeneration'</span>, <span class="string">'1'</span>);
set_param(<span class="string">'sedemo_event_priorities/Single Server'</span>, <span class="string">'PriorityServiceCompletion'</span>, <span class="string">'2'</span>);
sim(<span class="string">'sedemo_event_priorities'</span>);
</pre><img vspace="5" hspace="5" src="sedemo_event_priorities_m_04.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_priorities_m_05.png" alt=""> <h2>Handling Events With Same Event Priority<a name="4"></a></h2><p>The previous two cases demonstrate how to use event priority to control the sequencing of simultaneous events. If two events have same event priority, SimEvents provides two options for handling multiple event occurring at the same time. SimEvents Event Calendar can a) Randomize the two events occurring at the same time, or b) Handle them in an arbitrary fashion. These options are available in the SimEvents pane in the Configuration Parameters dialog.</p><p>If the event priority for entity generation event and service completion event are the same, then the processing sequence for these events varies during simulation. Using the ramdomization option from SimEvents pane, in some cases the entity generation event is executed before the service completion event and in some other cases it is executed after. As a result, in some cases generation from Time-Based Entity Generator occurs before departure from Single Server. This can be observed in the "Queue Length" plot as in some cases the length is zero and in some other cases the length increases by one and then instantaneously returns to zero.</p><pre class="codeinput">set_param(<span class="string">'sedemo_event_priorities/Time-Based Entity Generator'</span>, <span class="string">'PriorityEntityGeneration'</span>, <span class="string">'1'</span>);
set_param(<span class="string">'sedemo_event_priorities/Single Server'</span>, <span class="string">'PriorityServiceCompletion'</span>, <span class="string">'1'</span>);
sim(<span class="string">'sedemo_event_priorities'</span>);
</pre><img vspace="5" hspace="5" src="sedemo_event_priorities_m_06.png" alt=""> <img vspace="5" hspace="5" src="sedemo_event_priorities_m_07.png" alt=""> <pre class="codeinput">bdclose(<span class="string">'sedemo_event_priorities'</span>);
</pre><p class="footer">Copyright 2005-2007 The MathWorks, Inc.<br>
          Published with MATLAB&reg; 7.10</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!--
##### SOURCE BEGIN #####
%% Event Priorities
% This tutorial demo introduces Entities, Events and Event Priorities, which are the
% important concepts in SimEvents(R). Events and Entities have a cause and effect relationship,
% where events generally cause actions to be taken on entities. Event Priorities are 
% associated with events and are used to determine the sequence of execution if multiple 
% events happen at the same time.

% Copyright 2005-2007 The MathWorks, Inc.
% $Revision: 1.1.6.1 $ $Date: 2007/12/10 21:24:55 $

%% D/D/1: Simplest Queuing Model
% Consider a D/D/1 queuing model, where generation (or arrival) rate is deterministic
% and service rate is also deterministic. 
%
% In this model, Time-Based Entity Generator generates entities with intergeneration time of 1 second and
% Single Server delays each entity with service time of 1 second. Entity generation and service 
% completion are the two types of events in this system. 
% 
% Time-Based Entity Generator schedules the entity generation event in the Event Calendar for time t+1,
% where t is the current time. The processing of this event results in entities being generated 
% by the Time-Based Entity Generator, which illustrates the cause and effect relationship between events
% and entities. 
%
% When an entity enters the Single Server at time T, it schedules service completion event in 
% the Event Calendar for time T+1. The processing of this event results in the entity departing 
% from Single Server.
open_system('sedemo_event_priorities');

%% Executing Entity Generation Event After Service Completion Event
% Since intergeneration time for Time-Based Entity Generator and service time for Single Server are the
% same, entity generation event and service completion event are scheduled for the same 
% simulation time. SimEvents uses event priority to determine which of these events to process 
% first.
% 
% In this model, the entity generation event has a lower event priority than the service
% completion event, so the service completion event is processed before the entity generation 
% event when they occur at the same time. Thus departure from Single Server occurs before 
% generation from Time-Based Entity Generator. To observe this note that the Queue length is always
% zero. 
% 
% When an entity is generated, the Single Server is available to accept the entity since service
% completion event was already processed. 
set_param('sedemo_event_priorities/Time-Based Entity Generator', 'PriorityEntityGeneration', '2');
set_param('sedemo_event_priorities/Single Server', 'PriorityServiceCompletion', '1');
sim('sedemo_event_priorities');

%% Executing Entity Generation Event Before Service Completion Event
% If the Event Priorities are reversed, then  entity generation event is processed before
% Service Completion Event when they occur at the same time. 
% 
% In this case, generation from Time-Based Entity Generator occurs before departure from Single Server. 
% Again this can be observed by noting the Queue length. Because the entity generation event was 
% processed before the service completion event, the Single Server isn't available as soon as an 
% entity is generated.
% 
% Notice that in "Queue Length" plot, the number of entities increases by one when
% entity arrives in the FIFO Queue block. At the same instant but after the generation
% event, Single Server finishes processing its entity and can accept a new entity. Thus, the 
% number of entities in FIFO Queue block becomes zero instantaneously.
set_param('sedemo_event_priorities/Time-Based Entity Generator', 'PriorityEntityGeneration', '1');
set_param('sedemo_event_priorities/Single Server', 'PriorityServiceCompletion', '2');
sim('sedemo_event_priorities');

%% Handling Events With Same Event Priority
% The previous two cases demonstrate how to use event priority to control the sequencing of 
% simultaneous events. If two events have same event priority, SimEvents provides two options for  
% handling multiple event occurring at the same time. SimEvents Event Calendar can a) Randomize 
% the two events occurring at the same time, or b) Handle them in an arbitrary fashion. These options 
% are available in the SimEvents pane in the Configuration Parameters dialog.
% 
% If the event priority for entity generation event and service completion event are the same,
% then the processing sequence for these events varies during simulation. Using the ramdomization
% option from SimEvents pane, in some cases the entity generation event is executed before the 
% service completion event and in some other cases it is executed after. As a result, in some cases 
% generation from Time-Based Entity Generator occurs before departure from Single Server. This can be observed 
% in the "Queue Length" plot as in some cases the length is zero and in some other cases 
% the length increases by one and then instantaneously returns to zero. 
set_param('sedemo_event_priorities/Time-Based Entity Generator', 'PriorityEntityGeneration', '1');
set_param('sedemo_event_priorities/Single Server', 'PriorityServiceCompletion', '1');
sim('sedemo_event_priorities');

%% 
bdclose('sedemo_event_priorities');


displayEndOfDemoMessage(mfilename)

##### SOURCE END #####
--></body></html>